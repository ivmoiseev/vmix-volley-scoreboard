# Описание приложения vMix Volley Scoreboard

## Общее описание

**vMix Volley Scoreboard** - это десктопное приложение на базе Electron, предназначенное для управления счетом в волейбольных турнирах и интеграции с программой vMix для отображения графической информации на экранах.

## Основные функции

### 1. Управление счетом и подачей

- Отслеживание счета внутри партии (сетов)
- Отслеживание счета по партиям (общий счет матча)
- Сохранение результата каждой партии
- Автоматический учет перехода подачи при начислении очка
- Ручная коррекция перехода подачи при необходимости
- Отображение сетбола и матчбола в соответствии с правилами ВФВ
- Управление таймерами и перерывами (при необходимости)

### 2. Управление матчами

- Создание нового матча
- Открытие существующего матча из файла
- Сохранение текущего матча
- Каждый матч сохраняется в отдельный JSON файл

### 3. Интеграция с vMix

- Автоматическая отправка HTTP команд в vMix
- Обновление инпутов vMix с информацией о счете
- Поддержка 8 оверлеев для отображения информации
- Настройка адреса компьютера с vMix
- Настройка названий инпутов vMix
- Управление выводом плашек в оверлеи через кнопки интерфейса
- Кнопки управления плашками являются state-dependent (зависят от состояния)
- При установленном соединении с vMix кнопки синхронизируются с реальным состоянием оверлеев
- Визуальная индикация активного/неактивного состояния плашек в оверлеях
- Поддержка 12 различных типов плашек:
  - Заявка (TeamA vs TeamB)
  - Статистика
  - Состав команды (полный)
  - Стартовый состав команды
  - Текущий счет (во время партии)
  - Счет после 1-5 партий
  - Плашка 1 судья
  - Плашка 2 судьи

### 4. Удаленное управление

- Встроенный HTTP сервер для локальной сети
- Доступ к контрольной панели с мобильных устройств по Wi-Fi
- Генерация уникальных ссылок для доступа
- Генерация QR-кодов для быстрого подключения
- Защита от несанкционированного доступа через уникальные ссылки

### 5. Настройка матча

- Задание имен команд
- Выбор цвета формы для каждой команды
- Указание названия турнира
- Указание места проведения
- Указание даты и времени проведения матча
- Загрузка и сохранение составов команд
- Загрузка логотипов команд
- Указание тренеров команд
- Указание судейской коллегии

### 6. Расширенная статистика

- Опциональное ведение расширенной статистики
- Подсчет статистики по категориям:
  - Атака
  - Блок
  - Подачи
  - Ошибки соперника
- Расширенные опции не блокируют основное ведение счета
- Статистика отображается на соответствующих плашках vMix

## Технический стек

- **Electron** - фреймворк для создания десктопного приложения
- **React** - библиотека для создания реактивного пользовательского интерфейса
- **Node.js** - серверная часть для HTTP сервера и интеграции с vMix
- **JSON** - формат хранения данных матчей

## Архитектура

### Основной процесс (Main Process)

- Управление окнами приложения
- HTTP сервер для мобильного доступа
- Интеграция с vMix через HTTP API
- Работа с файловой системой (создание/открытие/сохранение матчей)

### Рендер процесс (Render Process)

- React приложение для отображения интерфейса
- Встроенный браузер для унификации интерфейса
- Коммуникация с основным процессом через IPC

## Сценарий использования

1. Статист или оператор запускает приложение на компьютере
2. Создает новый матч или открывает существующий
3. Настраивает параметры матча (команды, турнир, место, дата/время)
4. Настраивает подключение к vMix (адрес, инпуты, оверлеи)
5. Генерирует уникальную ссылку или QR-код для мобильного доступа
6. Передает ссылку/QR-код статисту с мобильным устройством
7. Статист подключается к приложению через браузер на мобильном устройстве
8. Статист ведет счет матча через мобильный интерфейс
9. Приложение автоматически обновляет информацию в vMix
10. По окончании матча сохраняется JSON файл с результатами

## Безопасность

- Уникальные ссылки для доступа предотвращают несанкционированный доступ
- Доступ только в пределах локальной сети
- Каждая сессия имеет уникальный идентификатор
